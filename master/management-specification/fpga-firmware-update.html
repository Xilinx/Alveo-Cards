


<!DOCTYPE HTML>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
	<head>
		<meta charset="utf-8">
		
		<meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
		<link rel="stylesheet" href="https://static.cloud.coveo.com/searchui/v2.4382/css/CoveoFullSearch.css"/>
		<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
		<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
		<meta name="description"/>
		<meta name="keywords"/>
		<meta property="og:title" content=""/>
		<meta property="og:description"/>
		<!-- favicon -->
		<link rel="icon" type="image/vnd.microsoft.icon" href="_static/favicon.ico"/>
		<link rel="shortcut icon" type="image/vnd.microsoft.icon" href="_static/favicon.ico"/>
		<!-- Fonts -->
		<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet" type="text/css"/>

  
  
  
  

  
      <script type="text/javascript" src="_static/js/jquery.min.js"></script>	
	  <script type="text/javascript" src="_static/js/gtm.js"></script>
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
    <script type="text/javascript" src="_static/js/d3dd8c60ed.js"></script>
    <script type="text/javascript" src="_static/js/common-ui-all.min.js"></script>		
    <script type="text/javascript" src="_static/js/header-footer.min.js"></script>	
    <script type="text/javascript" src="_static/js/jquery-ui.min.js"></script>	
    <script type="text/javascript" src="_static/js/CoveoJsSearch.Lazy.min.js"></script>	
    <script type="text/javascript" src="_static/js/linkid.js"></script>		
    <script type="text/javascript" src="_static/js/Searchbox.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/common-ui-all.min.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/header-footer.min.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/pro.min.css" media="all" />
  <link rel="stylesheet" href="_static/graphviz.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="DMTF Implementation" href="dmtf-support.html" />
    <link rel="prev" title="Satellite Controller Firmware Update Commands" href="sc-firmware-update.html" /> 
	</head>
	<body>
		<div class="xilinx-bs3"/>
		<div class="root responsivegrid">
			<div class="aem-Grid aem-Grid--16 aem-Grid--default--16 aem-Grid--large--16 aem-Grid--xlarge--16 aem-Grid--xxlarge--16 aem-Grid--xxxlarge--16 ">
				<div class="xilinxExperienceFragments experiencefragment aem-GridColumn aem-GridColumn--default--12">
					<div class="xf-content-height">
						<div class="aem-Grid aem-Grid--16 aem-Grid--default--16 ">
							<div class="header parbase aem-GridColumn aem-GridColumn--default--12">
								<noindex>
									<header data-component="header">
										<nav class="navbar navbar-default aem-Grid aem-Grid--16">
											<div class="aem-GridColumn aem-GridColumn--xxxlarge--none aem-GridColumn--xsmall--16 aem-GridColumn--offset--xsmall--0 aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--xsmall--none aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
												<div class="container-fluid main-nav">
													<div class="row">
														<div class="col-xs-12">
															<div class="logo-column">
																<div class="logo">
																	<a href="https://www.xilinx.com/">
																	<img src="https://www.xilinx.com/etc.clientlibs/site/clientlibs/xilinx/all/resources/imgs/header/xilinx-header-logo.svg" title="Xilinx Inc"/>
																	</a>
																</div>
															</div>
															<div class="navbar-column">
																<div class="navbar navbar-collapse collapse" id="xilinx-main-menu">
																	<div class="mobile-search-container">
																		<div id="headerSearchBox" class="headerSearch"
																			data-component="header-search" 
																			data-redirect-if-empty="false"
																			data-coveo-access-token="xxa237d4dd-f0aa-47fc-9baa-af9121851b33"
																			data-coveo-organization-id="xilinxcomprode2rjoqok">
																			<div class='coveo-search-section'>
																				<div class="CoveoAnalytics" data-search-hub="Site"></div>
																				<ul class="dropdown-menu options">
																					<li class="option" data-label="All" data-action-link="https://www.xilinx.com/search/site-keyword-search.html" data-search-hub="Site">
																						<a href="#">
																						All</a>
																					</li>
																					<li data-label="Silicon Devices" data-action-link="https://www.xilinx.com//products/silicon-devices/si-keyword-search.html" data-search-hub="Product">
																						<a href="#">
																						Silicon Devices</a>
																					</li>
																					<li data-label="Boards and Kits" data-action-link="https://www.xilinx.com//products/boards-and-kits/bk-keyword-search.html" data-search-hub="Product">
																						<a href="#">
																						Boards and Kits</a>
																					</li>
																					<li data-label="Intellectual Property" data-action-link="https://www.xilinx.com//products/intellectual-property/ip-keyword-search.html" data-search-hub="Product">
																						<a href="#">
																						Intellectual Property</a>
																					</li>
																					<li data-label="Support" class="option" data-action-link="https://www.xilinx.com/search/support-keyword-search.html" data-search-hub="Support">
																						<a href="#">
																						Support</a>
																						<ul>
																							<li data-label="Documentation" data-action-link="https://www.xilinx.com//support/documentation-navigation/documentation-keyword-search.html" data-search-hub="Document">
																								<a href="#">
																								Documentation</a>
																							</li>
																							<li data-label="Knowledge Base" data-action-link="https://www.xilinx.com//support/answer-navigation/answer-keyword-search.html" data-search-hub="AnswerRecord">
																								<a href="#">
																								Knowledge Base</a>
																							</li>
																							<li data-label="Community Forums" data-action-link="https://www.xilinx.com/search/forums-keyword-search.html" data-search-hub="Forums">
																								<a href="#">
																								Community Forums</a>
																							</li>
																						</ul>
																					</li>
																					<li data-label="Partners" data-action-link="https://www.xilinx.com//alliance/member-keyword-search.html" data-search-hub="Partner">
																						<a href="#">
																						Partners</a>
																					</li>
																					<li data-label="Videos" data-action-link="https://www.xilinx.com/video/video-keyword-search.html" data-search-hub="Video">
																						<a href="#">
																						Videos</a>
																					</li>
																					<li data-label="Press" data-action-link="https://www.xilinx.com/search/press-keyword-search.html" data-search-hub="Press">
																						<a href="#">
																						Press</a>
																					</li>
																				</ul>
																				<a href="#" class="btn dropdown-toggle value" data-toggle="dropdown"></a>
																				<div class="CoveoSearchbox" data-id="coveosearchbox" data-action-link="https://www.xilinx.com/search/site-keyword-search.html" data-placeholder="Search Xilinx"></div>
																			</div>
																		</div>
																	</div>
																	<ul class="nav navbar-nav nav-justified">
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://www.xilinx.com/applications.html">
																			Applications</a> 
																		</li>
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://www.xilinx.com/products/silicon-devices.html">
																			Products</a> 
																		</li>
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://developer.xilinx.com/">
																			Developers</a> 
																		</li>
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://www.xilinx.com/support.html">
																			Support</a> 
																		</li>
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://www.xilinx.com/about/company-overview.html">
																			About</a> 
																		</li>
																	</ul>
																</div>
															</div>
															<script type="text/javascript" src="_static/js/gtm.js"></script>
															<!--<div class="mini-nav">
																<button type="button" data-function="xilinx-mobile-menu" id="nav-toggle" class="navbar-toggle collapsed visible-xs-block" aria-expanded="false">
																<span></span>
																<span></span>
																<span></span>
																<span></span>
																</button>
																<ul class="list-inline">
																	<li class="dropdown user-menu">
																		<button data-toggle="dropdown">
																		<span class="sr-only">Account</span>
																		<span class="fas fa-user"></span>
																		</button>
																		<ul class="dropdown-menu">
																			<li>
																				<a href="https://www.xilinx.com/myprofile/subscriptions.html">
																				My Account</a>
																			</li>
																			<li>
																				<a href="https://www.xilinx.com/registration/create-account.html">
																				Create Account</a>
																			</li>
																			<li>
																				<a href="https://www.xilinx.com/bin/protected/en/signout">
																				Sign Out</a>
																			</li>
																		</ul>
																	</li>
																	<li class="hidden-xs">
																		<button data-function="search-toggle">
																		<span class="sr-only">Search</span>
																		<span class="far fa-search"></span>
																		</button>
																	</li>
																</ul>
															</div>
															-->
															<div class="search-container">
																<div id="headerSearchBox" class="headerSearch"
																	data-component="header-search" 
																	data-redirect-if-empty="false"
																	data-coveo-access-token="xxa237d4dd-f0aa-47fc-9baa-af9121851b33"
																	data-coveo-organization-id="xilinxcomprode2rjoqok">
																	<div class='coveo-search-section'>
																		<div class="CoveoAnalytics" data-search-hub="Site"></div>
																		<ul class="dropdown-menu options">
																			<li class="option" data-label="All" data-action-link="https://www.xilinx.com/search/site-keyword-search.html" data-search-hub="Site">
																				<a href="#">
																				All</a>
																			</li>
																			<li data-label="Silicon Devices" data-action-link="https://www.xilinx.com/products/silicon-devices/si-keyword-search.html" data-search-hub="Product">
																				<a href="#">
																				Silicon Devices</a>
																			</li>
																			<li data-label="Boards and Kits" data-action-link="https://www.xilinx.com/products/boards-and-kits/bk-keyword-search.html" data-search-hub="Product">
																				<a href="#">
																				Boards and Kits</a>
																			</li>
																			<li data-label="Intellectual Property" data-action-link="https://www.xilinx.com/products/intellectual-property/ip-keyword-search.html" data-search-hub="Product">
																				<a href="#">
																				Intellectual Property</a>
																			</li>
																			<li data-label="Support" class="option" data-action-link="https://www.xilinx.com/search/support-keyword-search.html" data-search-hub="Support">
																				<a href="#">
																				Support</a>
																				<ul>
																					<li data-label="Documentation" data-action-link="https://www.xilinx.com/support/documentation-navigation/documentation-keyword-search.html" data-search-hub="Document">
																						<a href="#">
																						Documentation</a>
																					</li>
																					<li data-label="Knowledge Base" data-action-link="https://www.xilinx.com/support/answer-navigation/answer-keyword-search.html" data-search-hub="AnswerRecord">
																						<a href="#">
																						Knowledge Base</a>
																					</li>
																					<li data-label="Community Forums" data-action-link="https://www.xilinx.com/search/forums-keyword-search.html" data-search-hub="Forums">
																						<a href="#">
																						Community Forums</a>
																					</li>
																				</ul>
																			</li>
																			<li data-label="Partners" data-action-link="https://www.xilinx.com/alliance/member-keyword-search.html" data-search-hub="Partner">
																				<a href="#">
																				Partners</a>
																			</li>
																			<li data-label="Videos" data-action-link="https://www.xilinx.com/video/video-keyword-search.html" data-search-hub="Video">
																				<a href="#">
																				Videos</a>
																			</li>
																			<li data-label="Press" data-action-link="https://www.xilinx.com/search/press-keyword-search.html" data-search-hub="Press">
																				<a href="#">
																				Press</a>
																			</li>
																		</ul>
																		<a href="#" class="btn dropdown-toggle value" data-toggle="dropdown"></a>
																		<div class="CoveoSearchbox" data-id="coveosearchbox" data-action-link="https://www.xilinx.com/search/site-keyword-search.html" data-placeholder="Search Xilinx"></div>
																	</div>
																</div>
																<button data-function="search-toggle">
																<span class="sr-only">Search</span>
																<span class="far fa-times"></span>
																</button>
															</div>
														</div>
													</div>
												</div>
											</div>
										</nav>
									</header>
								</noindex>
							</div>
						</div>
					</div>
				</div>
				<div class="parsys aem-GridColumn--xxxlarge--none aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
						<div class="container-fluid">
							<div class="row">
							<div class="col-xs-12">
   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> Satellite Controller
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Introduction</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="oob-intro.html">Introduction</a></li>
</ul>
<p class="caption"><span class="caption-text">Alveo FRU</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="alveo-fru.html">Alveo™ FRU Support</a></li>
</ul>
<p class="caption"><span class="caption-text">Standard I2C/SMBus commands</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="std-smbus-commands.html">I2C/SMBus Commands</a></li>
</ul>
<p class="caption"><span class="caption-text">SC firwmare update via OoB</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="sc-firmware-update.html">Satellite Controller Firmware Update Commands</a></li>
</ul>
<p class="caption"><span class="caption-text">FPGA firwmare update via OoB</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">FPGA Flash Update Commands</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#x40-fpga-reset-device">0x40 - FPGA_RESET_DEVICE</a></li>
<li class="toctree-l2"><a class="reference internal" href="#x41-fpga-get-fw-ver">0x41 - FPGA_GET_FW_VER</a></li>
<li class="toctree-l2"><a class="reference internal" href="#x42-fpga-set-target-device">0x42 - FPGA_SET_TARGET_DEVICE</a></li>
<li class="toctree-l2"><a class="reference internal" href="#x43-fpga-set-boot-device">0x43 - FPGA_SET_BOOT_DEVICE</a></li>
<li class="toctree-l2"><a class="reference internal" href="#x44-fpga-sc-set-write-enable">0x44 - FPGA_SC_SET_WRITE_ENABLE</a></li>
<li class="toctree-l2"><a class="reference internal" href="#x45-flash-set-write-enable">0x45 - FLASH_SET_WRITE_ENABLE</a></li>
<li class="toctree-l2"><a class="reference internal" href="#x46-flash-get-write-protect-states">0x46 - FLASH_GET_WRITE_PROTECT_STATES</a></li>
<li class="toctree-l2"><a class="reference internal" href="#x47-flash-tx-data-block">0x47 - FLASH_TX_DATA_BLOCK</a></li>
<li class="toctree-l2"><a class="reference internal" href="#x48-flash-block-crc-check">0x48 - FLASH_BLOCK_CRC_CHECK</a></li>
<li class="toctree-l2"><a class="reference internal" href="#x49-flash-sector-set-seq-num">0x49 - FLASH_SECTOR_SET_SEQ_NUM</a></li>
<li class="toctree-l2"><a class="reference internal" href="#x4a-flash-copy-firmware">0x4A - FLASH_COPY_FIRMWARE</a></li>
<li class="toctree-l2"><a class="reference internal" href="#x4b-fpga-get-firmware-status">0x4B - FPGA_GET_FIRMWARE_STATUS</a></li>
<li class="toctree-l2"><a class="reference internal" href="#x4c-fpga-set-key-nonce">0x4C - FPGA_SET_KEY_NONCE</a></li>
<li class="toctree-l2"><a class="reference internal" href="#x4d-fpga-calc-mac">0x4D - FPGA_CALC_MAC</a></li>
<li class="toctree-l2"><a class="reference internal" href="#x4e-fpga-verify-mac">0x4E - FPGA_VERIFY_MAC</a></li>
<li class="toctree-l2"><a class="reference internal" href="#x4f-fpga-get-mac-status">0x4F - FPGA_GET_MAC_STATUS</a></li>
<li class="toctree-l2"><a class="reference internal" href="#x50-fpga-set-image-size">0x50 - FPGA_SET_IMAGE_SIZE</a></li>
<li class="toctree-l2"><a class="reference internal" href="#x51-notify-wp-to-fpga">0x51 - NOTIFY_WP_TO_FPGA</a></li>
<li class="toctree-l2"><a class="reference internal" href="#x52-fpga-uart-debug-control">0x52 - FPGA_UART_DEBUG_CONTROL</a></li>
<li class="toctree-l2"><a class="reference internal" href="#x53-set-fpga-flash-readback-sector-range">0x53 - SET_FPGA_FLASH_READBACK_SECTOR_RANGE</a></li>
<li class="toctree-l2"><a class="reference internal" href="#x54-fpga-flash-readback-rx-data-block">0x54 - FPGA_FLASH_READBACK_RX_DATA_BLOCK</a></li>
<li class="toctree-l2"><a class="reference internal" href="#x55-get-fpga-flash-readback-sector-crc">0x55 - GET_FPGA_FLASH_READBACK_SECTOR_CRC</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">DMTF support</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="dmtf-support.html">DMTF Implementation</a></li>
</ul>
<p class="caption"><span class="caption-text">Appendix A: PCIe and thermal information</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="appendix_a.html">Appendix A</a></li>
</ul>
<p class="caption"><span class="caption-text">Appendix B: SMBus 2.0 protocol recap</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="smbus2.0-protocol-recap.html">I2C/SMBus Implementation and Protocol Recap</a></li>
</ul>
<p class="caption"><span class="caption-text">References</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="references.html">Additional Resources</a></li>
</ul>

            
			<p class="caption"><span class="caption-text">This Page</span></p>
				<ul class="current">
				  <li class="toctree-l1"><a href="_sources/fpga-firmware-update.rst.txt"
						rel="nofollow">Show Source</a></li>						
				</ul>
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Satellite Controller</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>FPGA Flash Update Commands</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/fpga-firmware-update.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="fpga-flash-update-commands">
<h1>FPGA Flash Update Commands<a class="headerlink" href="#fpga-flash-update-commands" title="Permalink to this headline">¶</a></h1>
<p>In the Alveo™ U30 Hyperscaler only SKU, the satellite controller (SC) firmware supports an out-of-band method of FPGA flash image update, read-back and authentication. Server BMC shall initiate and perform all these operations by sending the I2C commands to the SC. FPGA flash operation commands are supported at I2C address 0x65 (0xCA in 8-bit). Currently, Satellite Controller supports only 100 KHz I2C speed for all the FPGA flash update commands mentioned in this section.</p>
<p><strong>Note:</strong> The satellite controller will perform I2C clock-stretching, wherever applicable, to perform the requested actions.</p>
<p><strong>Note:</strong> It is recommended for the BMC to add 2 seconds as inter-command interval.</p>
<p>In addition to the FPGA flash update via OoB, SC also supports other FPGA flash related operations like:</p>
<ul class="simple">
<li>Enable or Disable Write Protect (WP#) settings</li>
<li>FPGA flash image read-back</li>
<li>Flash image authentication via MAC/HASH calculation</li>
<li>Copy of flash image from one flash to another (F2F copy)</li>
</ul>
<p>The table below lists all the commands supported/needed for FPGA flash operations. Currently, the FPGA flash operation commands are supported only for Alveo™ U30.</p>
<p><strong>Note:</strong> MAC in this chapter refers to Message Authentication Code and it can also be referred as HASH. MAC/HASH calculation of the entire or sometimes few select FPGA flash sectors is performed at the request of BMC, to validate the flash contents haven’t been tampered with.</p>
<p><strong>Table: FPGA Flash Upgrade Commands</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="13%" />
<col width="27%" />
<col width="33%" />
<col width="28%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><strong>Command</strong></th>
<th class="head"><strong>Command Description</strong></th>
<th class="head"><strong>Server BMC Action</strong></th>
<th class="head"><strong>SC Action</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>0x40</td>
<td>FPGA_RESET_DEVICE</td>
<td><p class="first">B0 from BMC:</p>
<p>0x01: FPGA devices</p>
<p class="last">0x02: SC FW</p>
</td>
<td><p class="first">See table ‘Flash Operation</p>
<p>Return Codes’ for SC’s</p>
<p class="last">response</p>
</td>
</tr>
<tr class="row-odd"><td>0x41</td>
<td>FPGA_GET_FW_VER</td>
<td><p class="first">B0 from BMC:</p>
<p>0x01: FPGA1 Primary</p>
<p>0x02: FPGA1 Recovery</p>
<p>0x03: FPGA2 Primary (if present)</p>
<p class="last">0x04: FPGA2 Recovery(if present)</p>
</td>
<td><p class="first">B0 – Valid Byte</p>
<p>B1 - Minor revision</p>
<p class="last">B2 - Major revision</p>
</td>
</tr>
<tr class="row-even"><td>0x42</td>
<td>FPGA_SET_TARGET_DEVICE</td>
<td><p class="first">B0 from BMC</p>
<p>0x01: FPGA1 Primary</p>
<p>0x02: FPGA1 Recovery</p>
<p>0x03: FPGA2 Primary (if present)</p>
<p class="last">0x04: FPGA2 Recovery(if present)</p>
</td>
<td><p class="first">See table ‘Flash Operation</p>
<p>Return Codes’ for SC’s</p>
<p class="last">response</p>
</td>
</tr>
<tr class="row-odd"><td>0x43</td>
<td>FPGA_SET_BOOT_DEVICE</td>
<td><p class="first">B0 from BMC:</p>
<p>0x01: FPGA1 Primary</p>
<p>0x02: FPGA1 Recovery</p>
<p>0x03: FPGA2 Primary (if present)</p>
<p class="last">0x04: FPGA2 Recovery(if present)</p>
</td>
<td><p class="first">See table ‘Flash Operation</p>
<p>Return Codes’ for SC’s</p>
<p class="last">response</p>
</td>
</tr>
<tr class="row-even"><td>0x44</td>
<td><p class="first">FPGA_SC_SET_WRITE</p>
<p>_ENABLE</p>
<p>Provides control to SC</p>
<p>over WP# pins and enables</p>
<p class="last">SC to access QSPI flash</p>
</td>
<td><p class="first">B0 from BMC:</p>
<p>0x01: FPGA1 Primary</p>
<p>0x02: FPGA1 Recovery</p>
<p>0x03: FPGA2 Primary (if present)</p>
<p>0x04: FPGA2 Recovery(if present)</p>
<p>B1 from BMC:</p>
<p>0x01: WP enable</p>
<p class="last">0x02: WP disable</p>
</td>
<td><p class="first">See table ‘Flash Operation</p>
<p>Return Codes’ for SC’s</p>
<p class="last">response</p>
</td>
</tr>
<tr class="row-odd"><td>0x45</td>
<td><p class="first">FLASH_SET_WRITE_ENABLE</p>
<p>Provides control to SC</p>
<p>over WP# pins and enables</p>
<p class="last">FPGA to access QSPI flash</p>
</td>
<td><p class="first">B0 from BMC:</p>
<p>0x01: FPGA1 Primary</p>
<p>0x02: FPGA1 Recovery</p>
<p>0x03: FPGA2 Primary (if present)</p>
<p>0x04: FPGA2 Recovery(if present)</p>
<p>B1 from BMC:</p>
<p>0x01: WP enable</p>
<p class="last">0x02: WP disable</p>
</td>
<td><p class="first">See table ‘Flash Operation</p>
<p>Return Codes’ for SC’s</p>
<p class="last">response</p>
</td>
</tr>
<tr class="row-even"><td>0x46</td>
<td><p class="first">FLASH_GET_WRITE</p>
<p class="last">_PROTECT_STATES</p>
</td>
<td><p class="first">B0 from BMC:</p>
<p>0x01: FPGA1 Primary</p>
<p>0x02: FPGA1 Recovery</p>
<p>0x03: FPGA2 Primary (if present)</p>
<p class="last">0x04: FPGA2 Recovery(if present)</p>
</td>
<td><p class="first">Byte 0: SC WP Status</p>
<p>0x01: WP enabled</p>
<p>0x02: WP disabled</p>
<p>Byte 1: FPGA WP Status</p>
<p>0x01: WP enabled</p>
<p class="last">0x02: WP disabled</p>
</td>
</tr>
<tr class="row-odd"><td>0x47</td>
<td><p class="first">FLASH_TX_DATA_BLOCK</p>
<p>SC accumulates 252 bytes</p>
<p>from each transaction to</p>
<p>form 64KB sector &amp; writes</p>
<p class="last">it into QSPI flash</p>
</td>
<td><p class="first">BMC sends data bytes</p>
<p class="last">D0, D1 … D251</p>
</td>
<td>N/A</td>
</tr>
<tr class="row-even"><td>0x48</td>
<td><p class="first">FLASH_BLOCK_CRC_CHECK</p>
<p>SC compares CRC, writes 1</p>
<p>sector to flash, rechecks</p>
<p class="last">CRC with FPGA device</p>
</td>
<td><p class="first">BMC sends 8 byte CRC</p>
<p class="last">B0, B1 … B7</p>
</td>
<td><p class="first">See table ‘Flash Operation</p>
<p>Return Codes’ for SC’s</p>
<p class="last">response</p>
</td>
</tr>
<tr class="row-odd"><td>0x49</td>
<td><p class="first">FLASH_SECTOR_SET_SEQ</p>
<p class="last">_NUM</p>
</td>
<td><p class="first">B0: Sector number (low byte)</p>
<p class="last">B1: Sector number (high byte)</p>
</td>
<td><p class="first">See table ‘Flash Operation</p>
<p>Return Codes’ for SC’s</p>
<p class="last">response</p>
</td>
</tr>
<tr class="row-even"><td>0x4A</td>
<td>FLASH_COPY_FIRMWARE</td>
<td><p class="first">B0: Source flash device</p>
<p>0x01: FPGA1 Primary</p>
<p>0x02: FPGA1 Recovery</p>
<p>0x03: FPGA2 Primary (if present)</p>
<p>0x04: FPGA2 Recovery(if present)</p>
<p>B1: Destination flash device</p>
<p>0x01: FPGA1 Primary</p>
<p>0x02: FPGA1 Recovery</p>
<p>0x03: FPGA2 Primary (if present)</p>
<p class="last">0x04: FPGA2 Recovery(if present)</p>
</td>
<td><p class="first">See table ‘Flash Operation</p>
<p>Return Codes’ for SC’s</p>
<p class="last">response</p>
</td>
</tr>
<tr class="row-odd"><td>0x4B</td>
<td><p class="first">FPGA_GET_FIRMWARE</p>
<p class="last">_STATUS</p>
</td>
<td>N/A</td>
<td><p class="first">See table ‘Flash Operation</p>
<p>Return Codes’ for SC’s</p>
<p class="last">response</p>
</td>
</tr>
<tr class="row-even"><td>0x4C</td>
<td><p class="first">FPGA_SET_KEY_NONCE</p>
<p>BMC sends key and nonce</p>
<p>that’s randomly generated.</p>
<p>SC stores both in internal</p>
<p class="last">flash (Non-volatile)</p>
</td>
<td><p class="first">B0 from BMC:</p>
<p>0x01: FPGA1 Primary</p>
<p>0x02: FPGA1 Recovery</p>
<p>0x03: FPGA2 Primary (if present)</p>
<p>0x04: FPGA2 Recovery(if present)</p>
<p>B1 - B16: Key</p>
<p class="last">B17 – B28: Nonce</p>
</td>
<td><p class="first">See table ‘Flash Operation</p>
<p>Return Codes’ for SC’s</p>
<p class="last">response</p>
</td>
</tr>
<tr class="row-odd"><td>0x4D</td>
<td><p class="first">FPGA_CALC_MAC</p>
<p>SC increments nonce by 1,</p>
<p>calculates hash using the</p>
<p>existing key &amp; new nonce,</p>
<p>and stores MAC/hash value</p>
<p class="last">in SC’s internal flash</p>
</td>
<td><p class="first">B0 from BMC:</p>
<p>0x01: FPGA1 Primary</p>
<p>0x02: FPGA1 Recovery</p>
<p>0x03: FPGA2 Primary (if present)</p>
<p class="last">0x04: FPGA2 Recovery(if present)</p>
</td>
<td><p class="first">See table ‘Flash Operation</p>
<p>Return Codes’ for SC’s</p>
<p class="last">response</p>
</td>
</tr>
<tr class="row-even"><td>0x4E</td>
<td><p class="first">FPGA_VERIFY_MAC</p>
<p>SC calculates hash using</p>
<p>existing key &amp; nonce, and</p>
<p>stores MAC/hash value in</p>
<p class="last">SC’s internal flash</p>
</td>
<td><p class="first">B0 from BMC:</p>
<p>0x01: FPGA1 Primary</p>
<p>0x02: FPGA1 Recovery</p>
<p>0x03: FPGA2 Primary (if present)</p>
<p class="last">0x04: FPGA2 Recovery(if present)</p>
</td>
<td><p class="first">See table ‘Flash Operation</p>
<p>Return Codes’ for SC’s</p>
<p class="last">response</p>
</td>
</tr>
<tr class="row-odd"><td>0x4F</td>
<td><p class="first">FPGA_GET_MAC_STATUS</p>
<p>SC responds with status of</p>
<p>MAC/has calculation or</p>
<p>verification along with</p>
<p class="last">the 16-byte MAC value</p>
</td>
<td><p class="first">B0 from BMC:</p>
<p>0x01: FPGA1 Primary</p>
<p>0x02: FPGA1 Recovery</p>
<p>0x03: FPGA2 Primary (if present)</p>
<p>0x04: FPGA2 Recovery(if present)</p>
<p>B1 from BMC:</p>
<p>0x01: Get CALC_MAC status</p>
<p class="last">0x02: Get VERIFY_MAC status</p>
</td>
<td><p class="first">Byte B0 from SC:</p>
<p>See table ‘Flash Operation</p>
<p>Return Codes’ for</p>
<p>response</p>
<p>Bytes B1 - B16 from SC:</p>
<p class="last">16 byte MAC/hash value</p>
</td>
</tr>
<tr class="row-even"><td>0x50</td>
<td>FPGA_SET_IMAGE_SIZE</td>
<td><p class="first">B0 from BMC:</p>
<p>0x01: FPGA1 Primary</p>
<p>0x02: FPGA1 Recovery</p>
<p>0x03: FPGA2 Primary (if present)</p>
<p>0x04: FPGA2 Recovery(if present)</p>
<p>B1 - B4 from BMC (LSB first):</p>
<p class="last">Size of QSPI image in bytes</p>
</td>
<td>N/A</td>
</tr>
<tr class="row-odd"><td>0x51</td>
<td>NOTIFY_WP_TO_FPGA</td>
<td><p class="first">B0 from BMC:</p>
<p>0x01: FPGA1 Primary</p>
<p>0x02: FPGA1 Recovery</p>
<p>0x03: FPGA2 Primary (if present)</p>
<p class="last">0x04: FPGA2 Recovery(if present)</p>
</td>
<td><p class="first">Byte B0 from SC:</p>
<p>0x01: Operation Success</p>
<p class="last">0x02: Operation failure</p>
</td>
</tr>
<tr class="row-even"><td>0x52</td>
<td>FPGA_UART_DEBUG_CONTROL</td>
<td><p class="first">B0 from BMC:</p>
<p>0x01: FPGA1</p>
<p class="last">0x02: FPGA2</p>
</td>
<td><blockquote class="first">
<div>Byte B0 from SC:</div></blockquote>
<p>0x01: Operation Success</p>
<p>0x02: Operation failure</p>
<p class="last">0x03: Operation unsupported</p>
</td>
</tr>
<tr class="row-odd"><td>0x53</td>
<td><p class="first">SET_FPGA_FLASH_READBACK</p>
<p class="last">_SECTOR_RANGE</p>
</td>
<td><p class="first">B0: Start sector num (low byte)</p>
<p>B1: Start sector num (high byte)</p>
<p>B2: End sector num (low byte)</p>
<p class="last">B3: End sector num (high byte)</p>
</td>
<td><p class="first">See table ‘Flash Operation</p>
<p>Return Codes’ for SC’s</p>
<p class="last">response</p>
</td>
</tr>
<tr class="row-even"><td>0x54</td>
<td><p class="first">FPGA_FLASH_READBACK_RX</p>
<p class="last">_DATA_BLOCK</p>
</td>
<td><p class="first">BMC sends repeated-start</p>
<p class="last">I2C command</p>
</td>
<td><p class="first">SC sends 256 data bytes:</p>
<p class="last">D0, D1 … D255</p>
</td>
</tr>
<tr class="row-odd"><td>0x55</td>
<td><p class="first">GET_FPGA_FLASH_READBACK</p>
<p class="last">_SECTOR_CRC</p>
</td>
<td>N/A</td>
<td><p class="first">SC sends 8-bytes of CRC :</p>
<p class="last">D0, D1 … D7</p>
</td>
</tr>
</tbody>
</table>
<p><strong>Table: Flash Operation Return Codes</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="16%" />
<col width="84%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><strong>Response Code</strong></th>
<th class="head"><strong>Description</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>0x00</td>
<td>Reserved</td>
</tr>
<tr class="row-odd"><td>0x01</td>
<td>Operation success</td>
</tr>
<tr class="row-even"><td>0x02</td>
<td>Operation failed</td>
</tr>
<tr class="row-odd"><td>0x03</td>
<td>Operation Not Supported</td>
</tr>
<tr class="row-even"><td>0x04</td>
<td>Flash erase failed. Abort operation, rectify error and re-initiate from start</td>
</tr>
<tr class="row-odd"><td>0x05</td>
<td>Flash write failed. Abort operation, rectify error and re-initiate from start</td>
</tr>
<tr class="row-even"><td>0x06</td>
<td>Flash read failed. Abort operation, rectify error and re-initiate from start</td>
</tr>
<tr class="row-odd"><td>0x07</td>
<td>Flash CRC failed. Abort operation, rectify error and re-initiate from start</td>
</tr>
<tr class="row-even"><td>0x08</td>
<td>Invalid Flash Selection</td>
</tr>
<tr class="row-odd"><td>0x09</td>
<td>FPGA_GENERAL_ERROR</td>
</tr>
<tr class="row-even"><td>0x0A</td>
<td>FPGA_MAC_CALCULATION_INVALID</td>
</tr>
<tr class="row-odd"><td>0x0B</td>
<td>FPGA_INVALID_IMAGE_LENGTH</td>
</tr>
<tr class="row-even"><td>0x0C</td>
<td>QSPI SC disable WP failed. Abort operation, rectify error and re-initiate from start</td>
</tr>
<tr class="row-odd"><td>0x0D</td>
<td>QSPI wrong MCS file format. Abort operation, rectify error and re-initiate from start</td>
</tr>
<tr class="row-even"><td>0x0E</td>
<td>Set the KEY and/or NONCE before proceeding for MAC Calculation</td>
</tr>
<tr class="row-odd"><td>0x0F</td>
<td>MAC calculation not performed. Please send command 0x4D before MAC verify</td>
</tr>
<tr class="row-even"><td>0x10</td>
<td>FLASH_TX_DATA_BLOCK command in-progress</td>
</tr>
<tr class="row-odd"><td>0x11</td>
<td>FPGA1 primary flash update in-progress</td>
</tr>
<tr class="row-even"><td>0x12</td>
<td>FPGA1 recovery flash update in-progress</td>
</tr>
<tr class="row-odd"><td>0x13</td>
<td>FPGA2 primary flash update in-progress</td>
</tr>
<tr class="row-even"><td>0x14</td>
<td>FPGA2 recovery flash update in-progress</td>
</tr>
<tr class="row-odd"><td>0x15–0x1F</td>
<td>Reserved</td>
</tr>
<tr class="row-even"><td>0x20</td>
<td>FLASH_BLOCK_CRC_CHECK command in-progress</td>
</tr>
<tr class="row-odd"><td>0x21</td>
<td>FPGA_CRC_CHECK_STATUS_SECTOR_RESEND (Resend last sector (0x47))</td>
</tr>
<tr class="row-even"><td>0x22</td>
<td>Reserved</td>
</tr>
<tr class="row-odd"><td>0x23</td>
<td>QSPI_SET_UPDATE_DEVICE_NOT_SENT (send command 0x42)</td>
</tr>
<tr class="row-even"><td>0x24</td>
<td>QSPI_SC_SET_WRITE_NOT_ENABLED (send command 0x44)</td>
</tr>
<tr class="row-odd"><td>0x25–0x2F</td>
<td>Reserved</td>
</tr>
<tr class="row-even"><td>0x30</td>
<td>FLASH_COPY_FIRMWARE command in-progress</td>
</tr>
<tr class="row-odd"><td>0x31</td>
<td>FPGA1 primary to FPGA1 recovery flash copy in-progress</td>
</tr>
<tr class="row-even"><td>0x32</td>
<td>FPGA1 primary to FPGA2 primary flash copy in-progress</td>
</tr>
<tr class="row-odd"><td>0x33</td>
<td>FPGA1 primary to FPGA2 recovery flash copy in-progress</td>
</tr>
<tr class="row-even"><td>0x34</td>
<td>FPGA1 recovery to FPGA1 primary flash copy in-progress</td>
</tr>
<tr class="row-odd"><td>0x35</td>
<td>FPGA1 recovery to FPGA2 primary flash copy in-progress</td>
</tr>
<tr class="row-even"><td>0x36</td>
<td>FPGA1 recovery to FPGA2 recovery flash copy in-progress</td>
</tr>
<tr class="row-odd"><td>0x37</td>
<td>FPGA2 primary to FPGA1 primary flash copy in-progress</td>
</tr>
<tr class="row-even"><td>0x38</td>
<td>FPGA2 primary to FPGA1 recovery flash copy in-progress</td>
</tr>
<tr class="row-odd"><td>0x39</td>
<td>FPGA2 primary to FPGA2 recovery flash copy in-progress</td>
</tr>
<tr class="row-even"><td>0x3A</td>
<td>FPGA2 recovery to FPGA1 primary flash copy in-progress</td>
</tr>
<tr class="row-odd"><td>0x3B</td>
<td>FPGA2 recovery to FPGA1 recovery flash copy in-progress</td>
</tr>
<tr class="row-even"><td>0x3C</td>
<td>FPGA2 recovery to FPGA2 primary flash copy in-progress</td>
</tr>
<tr class="row-odd"><td>0x3D–0x3F</td>
<td>Reserved</td>
</tr>
<tr class="row-even"><td>0x40</td>
<td>FPGA_CALC_MAC command in-progress</td>
</tr>
<tr class="row-odd"><td>0x41</td>
<td>FPGA1 primary MAC calculation in-progress</td>
</tr>
<tr class="row-even"><td>0x42</td>
<td>FPGA1 recovery MAC calculation in-progress</td>
</tr>
<tr class="row-odd"><td>0x43</td>
<td>FPGA2 primary MAC calculation in-progress</td>
</tr>
<tr class="row-even"><td>0x44</td>
<td>FPGA2 recovery MAC calculation in-progress</td>
</tr>
<tr class="row-odd"><td>0x45</td>
<td>FPGA_KEY_NONCE update in-progress</td>
</tr>
<tr class="row-even"><td>0x46–0x4F</td>
<td>Reserved</td>
</tr>
<tr class="row-odd"><td>0x50</td>
<td>FPGA_VERIFY_MAC command in-progress</td>
</tr>
<tr class="row-even"><td>0x51</td>
<td>FPGA1 primary MAC verification in-progress</td>
</tr>
<tr class="row-odd"><td>0x52</td>
<td>FPGA1 recovery MAC verification in-progress</td>
</tr>
<tr class="row-even"><td>0x53</td>
<td>FPGA2 primary MAC verification in-progress</td>
</tr>
<tr class="row-odd"><td>0x54</td>
<td>FPGA2 recovery MAC verification in-progress</td>
</tr>
<tr class="row-even"><td>0x55–0x6F</td>
<td>Reserved</td>
</tr>
<tr class="row-odd"><td>0x70</td>
<td>MAC verification not performed. Please send command (0x4E) before fetching MAC verification status</td>
</tr>
<tr class="row-even"><td>0x71</td>
<td>FPGA MAC Calculation/Verification failed. (Abort operation, re-initiate MAC Calculation/Verification)</td>
</tr>
<tr class="row-odd"><td>0x72</td>
<td>EEPROM read failed</td>
</tr>
<tr class="row-even"><td>0x73</td>
<td>EEPROM write failed</td>
</tr>
<tr class="row-odd"><td>0x74-0x7F</td>
<td>Reserved</td>
</tr>
<tr class="row-even"><td>0x80</td>
<td>FPGA flash data read-back in progress</td>
</tr>
<tr class="row-odd"><td>0x81</td>
<td>FPGA flash data ready for read-back</td>
</tr>
<tr class="row-even"><td>0x82</td>
<td>Invalid FPGA sector range. Check and resend within the valid range (0 - 2047)</td>
</tr>
<tr class="row-odd"><td>0x83–0xEF</td>
<td>Reserved</td>
</tr>
<tr class="row-even"><td>0xFF</td>
<td>FPGA_NO_OPERATION</td>
</tr>
</tbody>
</table>
<div class="section" id="x40-fpga-reset-device">
<h2>0x40 - FPGA_RESET_DEVICE<a class="headerlink" href="#x40-fpga-reset-device" title="Permalink to this headline">¶</a></h2>
<p>The BMC can send the FPGA_RESET_DEVICE command to reset FPGA device(s) or SC FW. For SC reset (warm reset), the satellite
controller firmware responds with the status and reboots itself. In Alveo U30, the reset command will reset both the FPGA devices
(ZYNQ1 and ZYNQ2) and internally, both PS (Processing Subsystem) and PL (Programmable Logic) will reload from flash device.</p>
<p><strong>Table: FPGA_RESET_DEVICE Server BMC Request</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="42%" />
<col width="58%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head" colspan="2"><strong>Server BMC Request</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Command code</td>
<td>0x40</td>
</tr>
<tr class="row-odd"><td>Byte0</td>
<td><p class="first">0x01: FPGA devices</p>
<p class="last">0x02: SC FW</p>
</td>
</tr>
</tbody>
</table>
<p><strong>Table: FPGA_RESET_DEVICE Xilinx Alveo Card Response</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="16%" />
<col width="7%" />
<col width="77%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head" colspan="3"><strong>Xilinx Alveo Card Response</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Data bytes</td>
<td>B0</td>
<td>See table ‘Flash Operation Return Codes’ for SC’s response</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="x41-fpga-get-fw-ver">
<h2>0x41 - FPGA_GET_FW_VER<a class="headerlink" href="#x41-fpga-get-fw-ver" title="Permalink to this headline">¶</a></h2>
<p>The BMC sends this command to fetch the FW version running in either FPGA1 or FPGA2 device. This command is currently supported only in the Alveo U30 data accelerator card. The byte 0 (validity byte) in response from SC must be read first.</p>
<p><strong>Table: FPGA_GET_FW_VER Server BMC Request</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="27%" />
<col width="73%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head" colspan="2"><strong>Server BMC Request</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Command code</td>
<td>0x41</td>
</tr>
<tr class="row-odd"><td>Byte0</td>
<td><p class="first">0x01: FPGA1 primary flash device</p>
<p>0x02: FPGA1 recovery flash device</p>
<p>0x03: FPGA2 primary flash device (if present)</p>
<p class="last">0x04: FPGA2 recovery flash device (if present)</p>
</td>
</tr>
</tbody>
</table>
<p><strong>Table: FPGA_GET_FW_VER Xilinx Alveo Card Response</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="14%" />
<col width="66%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head" colspan="3"><strong>Xilinx Alveo Card Response</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Data bytes</td>
<td><p class="first">B0</p>
<p class="last">B1, B2</p>
</td>
<td><p class="first">B0 - Valid Byte</p>
<p>0x00 - Not supported (B1, B2 - Invalid)</p>
<p>0x01 - Unknown or Reduced Service</p>
<p>0x02 - reserved</p>
<p>0x03 - No error; Valid B1 &amp; B2 bytes</p>
<p class="last">B1 – Minor version; B2 – Major version</p>
</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="x42-fpga-set-target-device">
<h2>0x42 - FPGA_SET_TARGET_DEVICE<a class="headerlink" href="#x42-fpga-set-target-device" title="Permalink to this headline">¶</a></h2>
<p>BMC sends the FPGA_SET_TARGET_DEVICE command to select the flash
device to initiate the FW upgrade.</p>
<p><strong>NOTE:</strong> This command is not persistence across SC reboots. On boot-up, SC restores the default configuration (i.e.) Primary flash as teh target device.</p>
<p><strong>Table: FPGA_SET_TARGET_DEVICE Server BMC Request</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="75%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head" colspan="2"><strong>Server BMC Request</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Command code</td>
<td>0x42</td>
</tr>
<tr class="row-odd"><td>Byte0</td>
<td><p class="first">0x01: FPGA1 primary flash device</p>
<p>0x02: FPGA1 recovery flash device</p>
<p>0x03: FPGA2 primary flash device (if present)</p>
<p class="last">0x04: FPGA2 recovery flash device (if present)</p>
</td>
</tr>
</tbody>
</table>
<p><strong>Table: FPGA_SET_TARGET_DEVICE Xilinx Alveo Card Response</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="16%" />
<col width="7%" />
<col width="77%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head" colspan="3"><strong>Xilinx Alveo Card Response</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Data bytes</td>
<td>B0</td>
<td>See table ‘Flash Operation Return Codes’ for SC’s response</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="x43-fpga-set-boot-device">
<h2>0x43 - FPGA_SET_BOOT_DEVICE<a class="headerlink" href="#x43-fpga-set-boot-device" title="Permalink to this headline">¶</a></h2>
<p>The BMC sends the FPGA_SET_BOOT_DEVICE command to set the boot
device. The SC FW stores this information in the internal flash memory and
restores the configuration in case of server cool boot or power cycle.</p>
<p><strong>Note:</strong> Primary flash device is selected as the boot
device/default configuration in FPGA1 (and FPGA2 if present).</p>
<p><strong>Table: FPGA_SET_BOOT_DEVICE Server BMC Request</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="75%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head" colspan="2"><strong>Server BMC Request</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Command code</td>
<td>0x43</td>
</tr>
<tr class="row-odd"><td>Byte0</td>
<td><p class="first">0x01– FPGA1 primary flash device</p>
<p>0x02– FPGA1 recovery flash device</p>
<p>0x03– FPGA2 primary flash device (if present)</p>
<p class="last">0x04– FPGA2 recovery flash device (if present)</p>
</td>
</tr>
</tbody>
</table>
<p><strong>Table: FPGA_SET_BOOT_DEVICE Xilinx Alveo Card Response</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="24%" />
<col width="24%" />
<col width="53%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head" colspan="3"><strong>Xilinx Alveo Card Response</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Data bytes</td>
<td>Byte0</td>
<td><p class="first">0x01– Request success</p>
<p class="last">0x02– Request failed</p>
</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="x44-fpga-sc-set-write-enable">
<h2>0x44 - FPGA_SC_SET_WRITE_ENABLE<a class="headerlink" href="#x44-fpga-sc-set-write-enable" title="Permalink to this headline">¶</a></h2>
<p>The BMC sends the FPGA_SC_SET_WRITE_ENABLE command to enable/disable write protect for SPI mode from the SC point of view. This command must follow FPGA_SET_TARGET_DEVICE. When the SC has write protect mode disabled, only the SC has the access to QSPI flash and only SC can write into the flash via SPI (x1 mode). In this case, FPGA can not read from FPGA flash.</p>
<p>For both hyperscaler and OEM customers, by default, SC WP# is enabled (i.e.) FPGA has read-only access. The actual FPGA WP# state (write access) is controlled by command 0x45.</p>
<p><strong>Note:</strong> The SC will not store this configuration (from command 0x44)  in any persistence memory. A SC reboot or device power cycle results in loss of configuration. During the subsequent boot-up, the SC will restore the default configuration (i.e.) WP enabled.</p>
<p><strong>Table: FPGA_SC_SET_WRITE_ENABLE Server BMC Request</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="26%" />
<col width="74%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head" colspan="2"><strong>Server BMC Request</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Command code</td>
<td>0x44</td>
</tr>
<tr class="row-odd"><td>Byte0</td>
<td><p class="first">0x01: FPGA1 primary flash device</p>
<p>0x02: FPGA1 recovery flash device</p>
<p>0x03: FPGA2 primary flash device (if present)</p>
<p class="last">0x04: FPGA2 recovery flash device (if present)</p>
</td>
</tr>
<tr class="row-even"><td>Byte1</td>
<td><p class="first">0x01: WP enable</p>
<p class="last">0x02: WP disable</p>
</td>
</tr>
</tbody>
</table>
<p><strong>Table: FPGA_SC_SET_WRITE_ENABLE Xilinx Alveo Card Response</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="16%" />
<col width="7%" />
<col width="77%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head" colspan="3"><strong>Xilinx Alveo Card Response</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Data bytes</td>
<td>B0</td>
<td>See table ‘Flash Operation Return Codes’ for SC’s response</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="x45-flash-set-write-enable">
<h2>0x45 - FLASH_SET_WRITE_ENABLE<a class="headerlink" href="#x45-flash-set-write-enable" title="Permalink to this headline">¶</a></h2>
<p>The BMC can send the FLASH_SET_WRITE_ENABLE command to enable/disable write protect the QSPI flash device in either ZYNQ
device. This command must follow FPGA_SC_SET_WRITE_ENABLE for any FPGA flash FW upgrade.</p>
<p>For Hyperscaler customers, by default, the FPGA flash devices are write protected and can only run in x2 SPI mode as a preferred/secured mode.</p>
<p>When write protect is disabled, the QSPI flash device can be accessed in x1, x2, or x4 SPI Mode and FPGA has the write access to the QSPI devices. This is the default mode configured for OEM customers. SC FW configures this mode based on FRU parameters written into its EEPROM.</p>
<p><strong>Note:</strong> The SC will not store this configuration (from command 0x45) in any persistence memory. A SC reboot or device power cycle results in the loss of configuration. During the subsequent boot-up, the SC will restore the default configuration (i.e.) WP enabled.</p>
<p><strong>Table: FLASH_SET_WRITE_ENABLE Server BMC Request</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="23%" />
<col width="77%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head" colspan="2"><strong>Server BMC Request</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Command code</td>
<td>0x45</td>
</tr>
<tr class="row-odd"><td>Byte0</td>
<td><p class="first">0x01: FPGA1 primary flash device</p>
<p>0x02: FPGA1 recovery flash device</p>
<p>0x03: FPGA2 primary flash device (if present)</p>
<p class="last">0x04: FPGA2 recovery flash device (if present)</p>
</td>
</tr>
<tr class="row-even"><td>Byte1</td>
<td><p class="first">0x01: WP enable</p>
<p class="last">0x02: WP disable</p>
</td>
</tr>
</tbody>
</table>
<p><strong>Table: FLASH_SET_WRITE_ENABLE Xilinx Alveo Card Response</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="16%" />
<col width="7%" />
<col width="77%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head" colspan="3"><strong>Xilinx Alveo Card Response</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Data bytes</td>
<td>B0</td>
<td>See table ‘Flash Operation Return Codes’ for SC’s response</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="x46-flash-get-write-protect-states">
<h2>0x46 - FLASH_GET_WRITE_PROTECT_STATES<a class="headerlink" href="#x46-flash-get-write-protect-states" title="Permalink to this headline">¶</a></h2>
<p>The BMC can send the FLASH_GET_WRITE_PROTECT_STATES command to
get the write protect state for all the flash devices.</p>
<p><strong>Table: FLASH_GET_WRITE_PROTECT_STATES Server BMC Request</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="23%" />
<col width="77%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head" colspan="2"><strong>Server BMC Request</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Command code</td>
<td>0x46</td>
</tr>
<tr class="row-odd"><td>Byte0</td>
<td><p class="first">0x01: FPGA1 primary flash device</p>
<p>0x02: FPGA1 recovery flash device</p>
<p>0x03: FPGA2 primary flash device (if present)</p>
<p class="last">0x04: FPGA2 recovery flash device (if present)</p>
</td>
</tr>
</tbody>
</table>
<p><strong>Table: FLASH_GET_WRITE_PROTECT_STATES Xilinx Alveo Card Response</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="18%" />
<col width="18%" />
<col width="64%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head" colspan="3"><strong>Xilinx Alveo Card Response</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Data bytes</td>
<td>Byte0</td>
<td><p class="first">Byte 0: SC WP Status</p>
<p class="last">0x01: WP enabled ; 0x02: WP disabled</p>
</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td>Byte 1</td>
<td><p class="first">Byte 1: FPGA WP Status</p>
<p class="last">0x01: WP enabled ; 0x02: WP disabled</p>
</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="x47-flash-tx-data-block">
<h2>0x47 - FLASH_TX_DATA_BLOCK<a class="headerlink" href="#x47-flash-tx-data-block" title="Permalink to this headline">¶</a></h2>
<p>The BMC sends data blocks using the FLASH_TX_DATA_BLOCK command. Data (or payload) is the FW for QSPI flash devices. The SC accumulates 252 byte data from each transaction to build up 64 Kbyte blocks and write into QSPI flash. The sector size for QSPI flash is 64 Kbyte and the SC will cache 1 block of data in the internal SRAM before writing it to QSPI. This command must be preceded by the FPGA_SET_TARGET_DEVICE, FPGA_SC_SET_WRITE_ENABLE, and FLASH_SET_WRITE_ENABLE commands.</p>
<p><strong>Note:</strong> The maximum supported size of each I2C transaction is 252 bytes.</p>
<p><strong>Table: FLASH_TX_DATA_BLOCK Server BMC Request</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="19%" />
<col width="81%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head" colspan="2"><strong>Server BMC Request</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Command code</td>
<td>0x47</td>
</tr>
<tr class="row-odd"><td>Length byte 0</td>
<td>Total number of bytes in the current I2C transaction (command)</td>
</tr>
<tr class="row-even"><td>Data bytes</td>
<td>D1, D2, … D252</td>
</tr>
</tbody>
</table>
<p><strong>Table: FLASH_TX_DATA_BLOCK Xilinx Alveo Card Response</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="16%" />
<col width="7%" />
<col width="77%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head" colspan="3"><strong>Xilinx Alveo Card Response</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Data bytes</td>
<td>B0</td>
<td>See table ‘Flash Operation Return Codes’ for SC’s response</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="x48-flash-block-crc-check">
<h2>0x48 - FLASH_BLOCK_CRC_CHECK<a class="headerlink" href="#x48-flash-block-crc-check" title="Permalink to this headline">¶</a></h2>
<p>The BMC sends the FLASH_BLOCK_CRC_CHECK command to check the CRC from the previous block and tracks the number of bytes sent to the SC. After sending 64K bytes, the BMC sends this command to initiate CRC check. The BMC sends 64-bit CRC (data payload and start address of the block) for the previous 64 Kbyte block along with this command request. This command also indicates the completion of the 64 Kbyte block transfer from the BMC to the SC, which immediately
returns the status CRC_CHECK_IN_PROGRESS. This command is a trigger for the SC to start all the flash write and CRC check
operations in the background. The BMC can poll the FPGA_GET_FIRMWARE_STATUS command periodically for completion
status before moving to next sector. See table ‘Flash Operation Return Codes’ for SC’s response</p>
<p><em>Table 97:</em> <strong>FLASH_BLOCK_CRC_CHECK Server BMC Server</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="42%" />
<col width="58%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head" colspan="2"><strong>Server BMC Request</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Command code</td>
<td>0x48</td>
</tr>
<tr class="row-odd"><td>Data bytes</td>
<td><p class="first">D1 … D8</p>
<p class="last">64-bit CRC data</p>
</td>
</tr>
</tbody>
</table>
<p><strong>Table: FLASH_BLOCK_CRC_CHECK Xilinx Alveo Card Response</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="16%" />
<col width="7%" />
<col width="77%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head" colspan="3"><strong>Xilinx Alveo Card Response</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Data bytes</td>
<td>B0</td>
<td>See table ‘Flash Operation Return Codes’ for SC’s response</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="x49-flash-sector-set-seq-num">
<h2>0x49 - FLASH_SECTOR_SET_SEQ_NUM<a class="headerlink" href="#x49-flash-sector-set-seq-num" title="Permalink to this headline">¶</a></h2>
<p>The FPGA flash FW image update needs to be implemented with the retry mechanism in both the server BMC and the Alveo SC.</p>
<p>The BMC sends the FLASH_SECTOR_SET_SEQ_NUM command to set the sequence number (or the sector number) of the sector at which the SC needs to write into the FPGA Flash. This retry mechanism is needed to restart the FPGA FW upgrade process from the point where it was terminated previously. The termination reason could be a reboot of the SC FW, the BMC FW, power loss, or any user triggered event.</p>
<p>When server BMC wants to restart the FPGA FW upgrade process from the middle, the BMC sends a valid 2-byte sequence number. The BMC may keep track of the sequence number and keep updating by 1 for every successful response from the SC for the command FLASH_BLOCK_CRC_CHECK.</p>
<p>The SC will calculate the sector start address based on the sequence number and the fixed start offset (expected to be 0x0) of the FW inside flash. Responsibility is on the BMC to send the correct sequence number and its corresponding payload. Otherwise the SC may write into a non- contiguous flash sector and may end up corrupting the FW.</p>
<p><strong>Note:</strong> The SC will not store the sector information in persistence memory. On boot-up, default value 0x00 will be assigned.</p>
<p><strong>Table: FLASH_SECTOR_SET_SEQ_NUM Server BMC Request</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="30%" />
<col width="70%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head" colspan="2"><strong>Server BMC Request</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Command code</td>
<td>0x49</td>
</tr>
<tr class="row-odd"><td>Data bytes</td>
<td><p class="first">B0– Sector number (low byte)</p>
<p class="last">B1– Sector number (high byte)</p>
</td>
</tr>
</tbody>
</table>
<p><strong>Table: FLASH_SECTOR_SET_SEQ_NUM Xilinx Alveo Card Response</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="31%" />
<col width="69%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head" colspan="2"><strong>Xilinx Alveo Card Response</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Data bytes</td>
<td><p class="first">Byte0</p>
<p>0x01: Request success</p>
<p class="last">0x02: Request failed</p>
</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="x4a-flash-copy-firmware">
<h2>0x4A - FLASH_COPY_FIRMWARE<a class="headerlink" href="#x4a-flash-copy-firmware" title="Permalink to this headline">¶</a></h2>
<p>The BMC sends the FLASH_COPY_FIRMWARE command to initiate the copy of FW from one QSPI flash device to another. The BMC sends the source and destination flash devices via this command. Upon receiving this command the SC:</p>
<ol class="arabic simple">
<li>Copies the sector contents from the source device into 64 Kbyte SRAM within SC FW.</li>
<li>Checks the CRC.</li>
<li>Copies the contents into the destination device, checks the CRC, and updates the sector sequence number.</li>
<li>If failure occurs in the middle of copy, erase all sectors in destination device (no retry support).</li>
<li>If the CRC is copied successfully, proceed with next sector.</li>
<li>The BMC can obtain the status of the copy from the FLASH_COPY_FIRMWARE_STATUS command.</li>
</ol>
<p><strong>Note:</strong> If the BMC sends another copy command while the previous copy is in-progress, the SC will ignore the request and respond appropriate error code. The BMC must check the status via the COPY_FIRMWARE_STATUS command and re-trigger. This command is currently supported only for Alveo U30.</p>
<p><strong>Table: FPGA_COPY_FIRMWARE Server BMC Request</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="22%" />
<col width="78%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head" colspan="2"><strong>Server BMC Request</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Command code</td>
<td>0x4A</td>
</tr>
<tr class="row-odd"><td>Byte0</td>
<td><p class="first">B0 – Source flash device:</p>
<p>0x01 - FPGA1 Primary flash device</p>
<p>0x02 - FPGA1 Recovery flash device</p>
<p>0x03 - FPGA2 Primary flash device</p>
<p class="last">0x04 - FPGA2 Recovery flash device</p>
</td>
</tr>
<tr class="row-even"><td>Byte1</td>
<td><p class="first">B1 – Destination flash device:</p>
<p>0x01 - FPGA1 Primary flash device</p>
<p>0x02 - FPGA1 Recovery flash device</p>
<p>0x03 - FPGA2 Primary flash device</p>
<p class="last">0x04 - FPGA2 Recovery flash device</p>
</td>
</tr>
</tbody>
</table>
<p><strong>Table: FPGA_COPY_FIRMWARE Xilinx Alveo Card Response</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="16%" />
<col width="7%" />
<col width="77%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head" colspan="3"><strong>Xilinx Alveo Card Response</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Data bytes</td>
<td>B0</td>
<td>See table ‘Flash Operation Return Codes’ for SC’s response</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="x4b-fpga-get-firmware-status">
<h2>0x4B - FPGA_GET_FIRMWARE_STATUS<a class="headerlink" href="#x4b-fpga-get-firmware-status" title="Permalink to this headline">¶</a></h2>
<p>The BMC sends the FPGA_GET_FIRMWARE_STATUS command to obtain the status of the previously triggered commands like
FLASH_BLOCK_CRC_CHECK and/or FLASH_COPY_FIRMWARE commands.</p>
<p><strong>Table: FPGA_GET_FIRMWARE_STATUS Server BMC request</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="65%" />
<col width="35%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head" colspan="2"><strong>Server BMC Request</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Command code</td>
<td>0x4B</td>
</tr>
<tr class="row-odd"><td>Byte0</td>
<td>N/A</td>
</tr>
</tbody>
</table>
<p><strong>Table: FPGA_GET_FIRMWARE_STATUS Xilinx Alveo Card Response</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="16%" />
<col width="7%" />
<col width="77%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head" colspan="3"><strong>Xilinx Alveo Card Response</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Data bytes</td>
<td>B0</td>
<td>See table ‘Flash Operation Return Codes’ for SC’s response</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="x4c-fpga-set-key-nonce">
<h2>0x4C - FPGA_SET_KEY_NONCE<a class="headerlink" href="#x4c-fpga-set-key-nonce" title="Permalink to this headline">¶</a></h2>
<p>BMC provides the SC with a randomly generated key and nonce. The SC writes the 16-byte AES128 key and 96-bit (12-byte) nonce value to the Non-volatile memory. The SC provisions storage for one key and one nonce per flash device (non-volatile memory).</p>
<p>SC uses 15-byte nonce, by padding 3 bytes (with 0x00) at the start, to the 12-byte nonce sent by BMC (i.e.) LSB 3 bytes are 0x00. In other words, Bytes[14-3] are the 12-bytes of nonce sent by BMC and Bytes[2-0] are 0x00 0x00 0x00.</p>
<p>BMC must use the exact nonce scheme to calculate the MAC value for comparison. The BMC is expected to select the target flash device.</p>
<p><strong>Table: FPGA_SET_KEY_NONCE Server BMC Request</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="22%" />
<col width="78%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head" colspan="2"><strong>Server BMC Request</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Command code</td>
<td>0x4C</td>
</tr>
<tr class="row-odd"><td>Byte0</td>
<td><p class="first">B0 – Target flash device:</p>
<p>0x01 - FPGA1 Primary flash device</p>
<p>0x02 - FPGA1 Recovery flash device</p>
<p>0x03 - FPGA2 Primary flash device</p>
<p class="last">0x04 - FPGA2 Recovery flash device</p>
</td>
</tr>
<tr class="row-even"><td>Byte1 -16</td>
<td>16-byte key</td>
</tr>
<tr class="row-odd"><td>Byte17 - 28</td>
<td>12-byte nonce</td>
</tr>
</tbody>
</table>
<p><strong>Table: FPGA_SET_KEY_NONCE Xilinx Alveo Card Response</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="16%" />
<col width="7%" />
<col width="77%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head" colspan="3"><strong>Xilinx Alveo Card Response</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Data bytes</td>
<td>B0</td>
<td>See table ‘Flash Operation Return Codes’ for SC’s response</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="x4d-fpga-calc-mac">
<h2>0x4D - FPGA_CALC_MAC<a class="headerlink" href="#x4d-fpga-calc-mac" title="Permalink to this headline">¶</a></h2>
<p><strong>Note:</strong> This command is optional. If sent, this command must be preceded by FPGA_SET_KEY_NONCE. This command is only supported in Alveo U30</p>
<p>The BMC is expected to call the FPGA_CALC_MAC command after the entire flash image is written. The BMC is expected to select the target flash device. Upon receiving the command 0x4D, SC increments the stored nonce by 1, calculates the MAC of the entire 128 MByte region of the FPGA flash device, using the existing key and the new nonce. The calculated MAC/HASH value is returned to BMC via the status command 0x4F. SC does not store the MAC/HASH value in Non-volatile memory.</p>
<p><strong>Table: FPGA_CALC_MAC Server BMC Request</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="22%" />
<col width="78%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head" colspan="2"><strong>Server BMC Request</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Command code</td>
<td>0x4D</td>
</tr>
<tr class="row-odd"><td>Byte0</td>
<td><p class="first">B0 – Target flash device:</p>
<p>0x01 - FPGA1 Primary flash device</p>
<p>0x02 - FPGA1 Recovery flash device</p>
<p>0x03 - FPGA2 Primary flash device</p>
<p class="last">0x04 - FPGA2 Recovery flash device</p>
</td>
</tr>
</tbody>
</table>
<p><strong>Table: FPGA_CALC_MAC Xilinx Alveo Card Response</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="16%" />
<col width="7%" />
<col width="77%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head" colspan="3"><strong>Xilinx Alveo Card Response</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Data bytes</td>
<td>B0</td>
<td>See table ‘Flash Operation Return Codes’ for SC’s response</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="x4e-fpga-verify-mac">
<h2>0x4E - FPGA_VERIFY_MAC<a class="headerlink" href="#x4e-fpga-verify-mac" title="Permalink to this headline">¶</a></h2>
<p><strong>NOTE:</strong> This command must be preceded by FPGA_SET_KEY_NONCE. This command is supported only in Alveo U30.</p>
<p>The BMC sends the FPGA_VERIFY_MAC command to validate the FPGA flash image. The SC calculates the MAC/HASH of the entire 128 MByte region using the existing key and existing nonce value. The calculated MAC/HASH value is returned to BMC via the status command 0x4F. SC does not store the MAC/HASH value in Non-volatile memory.</p>
<p><strong>Table: FPGA_VERIFY_MAC Server BMC Request</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="22%" />
<col width="78%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head" colspan="2"><strong>Server BMC Request</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Command code</td>
<td>0x4E</td>
</tr>
<tr class="row-odd"><td>Byte0</td>
<td><p class="first">B0 – Target flash device:</p>
<p>0x01 - FPGA1 Primary flash device</p>
<p>0x02 - FPGA1 Recovery flash device</p>
<p>0x03 - FPGA2 Primary flash device</p>
<p class="last">0x04 - FPGA2 Recovery flash device</p>
</td>
</tr>
</tbody>
</table>
<p><strong>Table: FPGA_VERIFY_MAC Xilinx Alveo Card Response</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="16%" />
<col width="7%" />
<col width="77%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head" colspan="3"><strong>Xilinx Alveo Card Response</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Data bytes</td>
<td>B0</td>
<td>See table ‘Flash Operation Return Codes’ for SC’s response</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="x4f-fpga-get-mac-status">
<h2>0x4F - FPGA_GET_MAC_STATUS<a class="headerlink" href="#x4f-fpga-get-mac-status" title="Permalink to this headline">¶</a></h2>
<p>This command is only supported in Alveo U30 card. The BMC sends the FPGA_GET_MAC_STATUS command to get the
status of FPGA_CALC_MAC or FPGA_VERIFY_MAC command. SC responds with the status of MAC/HASH calculation or
verification (Byte 0) and 16-byte MAC/HASH value (Bytes 1-17) as response.</p>
<p><strong>Note:</strong> Server BMC must use the same key and nonce that the satellite controller used to compute the MAC/HASH value to obtain same results. Refer 0x4C and 0x4D command description for details.</p>
<p><strong>Table: FPGA_GET_MAC_STATUS Server BMC Request</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="22%" />
<col width="78%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head" colspan="2"><strong>Server BMC Request</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Command code</td>
<td>0x4F</td>
</tr>
<tr class="row-odd"><td>Byte0</td>
<td><p class="first">0x01 - FPGA1 Primary flash device</p>
<p>0x02 - FPGA1 Recovery flash device</p>
<p>0x03 - FPGA2 Primary flash device</p>
<p class="last">0x04 - FPGA2 Recovery flash device</p>
</td>
</tr>
<tr class="row-even"><td>Byte1</td>
<td><p class="first">0x01 – Get FPGA_CALC_MAC status</p>
<p class="last">0x02 – Get FPGA_VERIFY_MAC status</p>
</td>
</tr>
</tbody>
</table>
<p><strong>Table: FPGA_GET_MAC_STATUS Xilinx Alveo Card Response</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="15%" />
<col width="16%" />
<col width="69%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head" colspan="3"><strong>Xilinx Alveo Card Response</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Data bytes</td>
<td>B0</td>
<td>See table ‘Flash Operation Return Codes’ for SC’s response</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td>Bytes 1 - 16</td>
<td>16 Byte MAC value (LSB first)</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="x50-fpga-set-image-size">
<h2>0x50 - FPGA_SET_IMAGE_SIZE<a class="headerlink" href="#x50-fpga-set-image-size" title="Permalink to this headline">¶</a></h2>
<p>Optionally, BMC can send the command 0x50 to notify SC about the size of the FPGA image that it indents to update. The byte-0 selects the target FPGA flash device and the byte1 – byte 4 (4 bytes, unsigned, LSB first) represents the size of flash image in bytes.</p>
<p><strong>NOTE:</strong> On boot-up, SC restores the image size to default 128 MBytes to address entire flash memory.</p>
<p><strong>Table: FPGA_SET_IMAGE_SIZE server BMC request</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="22%" />
<col width="78%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head" colspan="2"><strong>Server BMC request</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Command code</td>
<td>0x50</td>
</tr>
<tr class="row-odd"><td>Byte0</td>
<td><p class="first">0x01 - FPGA1 Primary flash device</p>
<p>0x02 - FPGA1 Recovery flash device</p>
<p>0x03 - FPGA2 Primary flash device</p>
<p class="last">0x04 - FPGA2 Recovery flash device</p>
</td>
</tr>
<tr class="row-even"><td>Byte 1-4</td>
<td>Size of QSPI image (in bytes)</td>
</tr>
</tbody>
</table>
<p><strong>Table: FPGA_SET_IMAGE_SIZE Xilinx Alveo Card Response</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="16%" />
<col width="7%" />
<col width="77%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head" colspan="3"><strong>Xilinx Alveo Card Response</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Data bytes</td>
<td>B0</td>
<td>See table ‘Flash Operation Return Codes’ for SC’s response</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="x51-notify-wp-to-fpga">
<h2>0x51 - NOTIFY_WP_TO_FPGA<a class="headerlink" href="#x51-notify-wp-to-fpga" title="Permalink to this headline">¶</a></h2>
<p>BMC sends this command to request SC to notify the FPGA device about WP status of the flash device. In turn, SC communicates the flash device WP status to FPGA via UART messages. BMC shall send this command prior to initiating the in-band QSPI FW update so that host OS can read the WP status from PCIe BAR config space.</p>
<p><strong>Table: NOTIFY_WP_TO_FPGA server BMC request</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="22%" />
<col width="78%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head" colspan="2"><strong>Server BMC request</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Command code</td>
<td>0x51</td>
</tr>
<tr class="row-odd"><td>Byte0</td>
<td><p class="first">0x01 - FPGA1 Primary flash device</p>
<p>0x02 - FPGA1 Recovery flash device</p>
<p>0x03 - FPGA2 Primary flash device</p>
<p class="last">0x04 - FPGA2 Recovery flash device</p>
</td>
</tr>
</tbody>
</table>
<p><strong>Table: NOTIFY_WP_TO_FPGA Xilinx Alveo Card Response</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="28%" />
<col width="13%" />
<col width="59%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head" colspan="3"><strong>Xilinx Alveo Card Response</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Data bytes</td>
<td>B0</td>
<td><p class="first">0x01: Operation Success</p>
<p class="last">0x02: Operation failure</p>
</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="x52-fpga-uart-debug-control">
<h2>0x52 - FPGA_UART_DEBUG_CONTROL<a class="headerlink" href="#x52-fpga-uart-debug-control" title="Permalink to this headline">¶</a></h2>
<p>BMC sends this command to FPGA to enable/disable the debug UART. SC communicates this information to the respective ZYNQ/FPGA device. By default, the debug UART is disabled during production settings and it can optionally be enabled for debug purposes.</p>
<p><strong>Table: FPGA_UART_DEBUG_CONTROL server BMC request</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="47%" />
<col width="53%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head" colspan="2"><strong>Server BMC request</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Command code</td>
<td>0x52</td>
</tr>
<tr class="row-odd"><td>Byte0</td>
<td><p class="first">0x01 - FPGA1</p>
<p class="last">0x02 - FPGA2</p>
</td>
</tr>
</tbody>
</table>
<p><strong>Table: FPGA_UART_DEBUG_CONTROL Xilinx Alveo Card Response</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="27%" />
<col width="13%" />
<col width="60%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head" colspan="3"><strong>Xilinx Alveo Card Response</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Data bytes</td>
<td>B0</td>
<td><p class="first">0x01: Operation Success</p>
<p>0x02: Operation failure</p>
<p class="last">0x03: Operation unsupported</p>
</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="x53-set-fpga-flash-readback-sector-range">
<h2>0x53 - SET_FPGA_FLASH_READBACK_SECTOR_RANGE<a class="headerlink" href="#x53-set-fpga-flash-readback-sector-range" title="Permalink to this headline">¶</a></h2>
<p>BMC sends this command to set the start and end sectors for the FPGA flash content read-back. The range is between sectors 0 and 2047. SC fetches 1 sector at a time from FPGA flash device and transfers it to BMC via command 0x54.</p>
<p><strong>Table: SET_FPGA_FLASH_READBACK_SECTOR_RANGE server BMC request</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="22%" />
<col width="78%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head" colspan="2"><strong>Server BMC request</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Command code</td>
<td>0x53</td>
</tr>
<tr class="row-odd"><td>Byte0</td>
<td>Start sector number (low byte)</td>
</tr>
<tr class="row-even"><td>Byte1</td>
<td>Start sector number (high byte)</td>
</tr>
<tr class="row-odd"><td>Byte2</td>
<td>End sector number (low byte)</td>
</tr>
<tr class="row-even"><td>Byte3</td>
<td>End sector number (high byte)</td>
</tr>
</tbody>
</table>
<p><strong>Table: SET_FPGA_FLASH_READBACK_SECTOR_RANGE Xilinx Alveo Card Response</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="16%" />
<col width="7%" />
<col width="77%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head" colspan="3"><strong>Xilinx Alveo Card Response</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Data bytes</td>
<td>B0</td>
<td>See table ‘Flash Operation Return Codes’ for SC’s response</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="x54-fpga-flash-readback-rx-data-block">
<h2>0x54 - FPGA_FLASH_READBACK_RX_DATA_BLOCK<a class="headerlink" href="#x54-fpga-flash-readback-rx-data-block" title="Permalink to this headline">¶</a></h2>
<p>BMC sends this command in repeated-start mode to read the data from FPGA flash. Before sending the command 0x54, BMC needs to send the following commands in sequence (i.e.) command 0x42 (set target device), command 0x53 (set sectors) and command 0x4B (poll the status).</p>
<ul class="simple">
<li>Upon requested, SC will read 1 sector (64 KB) from FPGA flash device, compares the CRC before signaling BMC about read-back readiness (via 0x4B command)</li>
<li>After SC is ready with the payload, BMC can send the read-back command in repeated-start mode to fetch 1 sector of data. It takes 256 transactions to transfer 64 KB payload as SC sends 256 bytes per transaction. NOTE that SC can’t send partial transactions (i.e.) data less than 256 bytes.</li>
<li>After successfully receiving 64 KB payload, BMC needs to read the sector CRC(via 0x55) before proceeding to read the next sector.</li>
<li>BMC must poll the status command 0x4B (SC’s readiness for next sector) before proceeding to issue read-back command 0x54 for the next sector.</li>
<li>No retry is supported in case of any failure/interruption in the middle of sector read-back.  But BMC can send the command 0x49 to force set the start sector from which it wants to resume/retry the read-back operation</li>
<li>Upon receiving the updated start sector number (via 0x49 command), SC starts the read-back process from the beginning of the sector. Once again, BMC needs to follow the same sequence of commands (i.e.) poll the status command 0x4B before issuing 0x54.</li>
</ul>
<p><strong>Table: FPGA_FLASH_READBACK_RX_DATA_BLOCK server BMC request</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="22%" />
<col width="78%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head" colspan="2"><strong>Server BMC request</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Command code</td>
<td>0x54</td>
</tr>
<tr class="row-odd"><td>Byte0</td>
<td>BMC sends repeated-start I2C command</td>
</tr>
</tbody>
</table>
<p><strong>Table: FPGA_FLASH_READBACK_RX_DATA_BLOCK Xilinx Alveo Card Response</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="22%" />
<col width="29%" />
<col width="49%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head" colspan="3"><strong>Xilinx Alveo Card Response</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Data bytes</td>
<td>D0, D1 … D255</td>
<td>SC sends 256 data bytes</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="x55-get-fpga-flash-readback-sector-crc">
<h2>0x55 - GET_FPGA_FLASH_READBACK_SECTOR_CRC<a class="headerlink" href="#x55-get-fpga-flash-readback-sector-crc" title="Permalink to this headline">¶</a></h2>
<p>BMC sends this command to SC to get the CRC for the previously read-back sector (via command 0x54). SC returns the Micron’s CRC-64 back and BMC can use the 8-byte CRC data to compare with the CRC-64 calculated within.</p>
<p><strong>Table: SET_FPGA_FLASH_READBACK_SECTOR_RANGE server BMC request</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="65%" />
<col width="35%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head" colspan="2"><strong>Server BMC Request</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Command code</td>
<td>0x55</td>
</tr>
<tr class="row-odd"><td>Byte0</td>
<td>N/A</td>
</tr>
</tbody>
</table>
<p><strong>Table: SET_FPGA_FLASH_READBACK_SECTOR_RANGE Xilinx Alveo Card Response</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="19%" />
<col width="25%" />
<col width="55%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head" colspan="3"><strong>Xilinx Alveo Card Response</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Data bytes</td>
<td>D0, D1, .. D7</td>
<td>SC sends 8-bytes of Micron CRC-64</td>
</tr>
</tbody>
</table>
<p><strong>Xilinx Support</strong></p>
<p>For support resources such as answers, documentation, downloads, and forums, see the <a class="reference external" href="https://forums.xilinx.com/t5/Alveo-Accelerator-Cards/bd-p/alveo">Alveo Accelerator Cards Xilinx Community Forum</a>.</p>
<p><strong>License</strong></p>
<p>Licensed under the Apache License, Version 2.0 (the “License”); you may not use this file except in compliance with the License.</p>
<p>You may obtain a copy of the License at
<a class="reference external" href="http://www.apache.org/licenses/LICENSE-2.0">http://www.apache.org/licenses/LICENSE-2.0</a></p>
<p>All images and documentation, including all debug and support documentation, are licensed under the Creative Commons (CC) Attribution 4.0 International License (the “CC-BY-4.0 License”); you may not use this file except in compliance with the CC-BY-4.0 License.</p>
<p>You may obtain a copy of the CC-BY-4.0 License at
<a class="reference external" href="https://creativecommons.org/licenses/by/4.0/">https://creativecommons.org/licenses/by/4.0/</a></p>
<p>Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an “AS IS” BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.</p>
<p align="center"><sup>XD038 | &copy; Copyright 2021 Xilinx, Inc.</sup></p></div>
</div>


           </div>
           
          </div>
          <footer>
<!-- Atalwar: Moved the footer code to layout.html to resolve conflict with the Xilinx template -->
</footer>

        </div>
      </div>
	  
	  
	  <!-- Sphinx Page Footer block -->
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="dmtf-support.html" class="btn btn-neutral float-right" title="DMTF Implementation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="sc-firmware-update.html" class="btn btn-neutral float-left" title="Satellite Controller Firmware Update Commands" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo" class="copyright">
    <p class="footerinfo">
      <span class="lastupdated">
        Last updated on April 19, 2021.
      </span>

    </p>
  </div>	  
      </div>
    </section>


  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

   <script type="text/javascript">
    jQuery(function() { Search.loadIndex("searchindex.js"); });
  </script>

  <script type="text/javascript" id="searchindexloader"></script>     	    
	    
	    
  
  
    
  
  

  
  <!--  Xilinx template footer block -->
							</div>
						</div>
					</div>
				</div>
				<div class="xilinxExperienceFragments experiencefragment aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16">
					<div class="xf-content-height">
						<div class="aem-Grid aem-Grid--16 aem-Grid--default--16 ">
							<div class="footer parbase aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16">
								<noindex>
									<footer>
										<div class="aem-Grid aem-Grid--16">
											<div class="aem-GridColumn aem-GridColumn--xxxlarge--none aem-GridColumn--xsmall--16 aem-GridColumn--offset--xsmall--0 aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--xsmall--none aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
												<div class="container-fluid sub-footer">
													<div class="row">
														<div class="footerSocial parbase">
															<div class="col-md-push-6 col-lg-push-6 col-md-6 col-lg-6">
																<ul class="list-inline pull-right social-menu">
																	<li>
																		<a href="https://www.linkedin.com/company/xilinx">
																		<span class="linkedin icon"></span>
																		<span class="sr-only">Connect on LinkedIn</span>
																		</a>
																	</li>
																	<li>
																		<a href="https://www.twitter.com/XilinxInc">
																		<span class="twitter icon"></span>
																		<span class="sr-only">Follow us on Twitter</span>
																		</a>
																	</li>
																	<li>
																		<a href="https://www.facebook.com/XilinxInc">
																		<span class="facebook icon"></span>
																		<span class="sr-only">Connect on Facebook</span>
																		</a>
																	</li>
																	<li>
																		<a href="https://www.youtube.com/XilinxInc">
																		<span class="youtube icon"></span>
																		<span class="sr-only">Watch us on YouTube</span>
																		</a>
																	</li>
																	<li>
																		<a href="https://www.xilinx.com/registration/subscriber-signup.html">
																		<span class="newsletter icon"></span>
																		<span class="sr-only">Subscribe to Newsletter</span>
																		</a>
																	</li>
																</ul>
															</div>
														</div>
														<div class="col-md-pull-6 col-lg-pull-6 col-md-6 col-lg-6">
															<span class="copyright">
                                  
                                  &copy; 2017-2021, Xilinx, Inc.
                              </span>
															<ul class="list-inline sub-menu">
																<li>
																	<a href="https://www.xilinx.com/about/privacy-policy.html">Privacy</a>
																</li>
																<li>
																	<a href="https://www.xilinx.com/about/legal.html">Legal</a>
																</li>
																<li>
																	<a href="https://www.xilinx.com/about/contact.html">Contact</a>
																</li>
															</ul>
														</div>
													</div>
												</div>
											</div>
										</div>
									</footer>
								</noindex>
							</div>
						</div>
					</div>
				</div>
				<div class="quicklinks parbase aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16">
					<noindex>
						<span class="quickLinks">
							<ul>
								<li>
									<a href="#top" class="btn backToTop">
									<span class="fas fa-angle-up" aria-hidden="true"></span>
									</a>
								</li>
							</ul>
						</span>
					</noindex>
				</div>
			</div>
		</div>
		<script>window.CQ = window.CQ || {}</script>
		<script src="https://static.cloud.coveo.com/searchui/v2.4382/js/CoveoJsSearch.Lazy.min.js"></script>
		<script>
			var underscoreSetup = function () {
			  _.templateSettings.interpolate = /\{\{=([^-][\S\s]+?)\}\}/g;
			  _.templateSettings.evaluate = /\{\{([^-=][\S\s]+?)\}\}/g;
			  _.templateSettings.escape = /\{\{-([^=][\S\s]+?)\}\}/g;
			}
			
			underscoreSetup();
		</script>
	</body>
</html>