<!DOCTYPE html>
<html class="writer-html4" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
<!-- OneTrust Cookies Consent Notice start for xilinx.github.io -->

<script src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" data-document-language="true" type="text/javascript" charset="UTF-8" data-domain-script="03af8d57-0a04-47a6-8f10-322fa00d8fc7" ></script>
<script type="text/javascript">
function OptanonWrapper() { }
</script>
<!-- OneTrust Cookies Consent Notice end for xilinx.github.io -->
<!-- Google Tag Manager -->
<script type="text/plain" class="optanon-category-C0002">(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-5RHQV7');</script>
<!-- End Google Tag Manager -->
  <title>Alveo™ FRU Support &mdash; Satellite Controller  documentation</title><link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="I2C/SMBus Commands" href="std-smbus-commands.html" />
    <link rel="prev" title="Introduction" href="oob-intro.html" /> 
</head>

<body class="wy-body-for-nav">

<!-- Google Tag Manager -->
<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5RHQV7" height="0" width="0" style="display:none;visibility:hidden" class="optanon-category-C0002"></iframe></noscript>
<!-- End Google Tag Manager --> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
            <a href="index.html" class="icon icon-home"> Satellite Controller
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">Introduction</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="oob-intro.html">Introduction</a></li>
</ul>
<p class="caption"><span class="caption-text">Alveo FRU</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Alveo™ FRU Support</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#block-write">Block Write</a></li>
<li class="toctree-l2"><a class="reference internal" href="#block-read">Block Read</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Standard I2C/SMBus commands</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="std-smbus-commands.html">I2C/SMBus Commands</a></li>
</ul>
<p class="caption"><span class="caption-text">SC firwmare update via OoB</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="sc-firmware-update.html">Satellite Controller Firmware Update Commands</a></li>
</ul>
<p class="caption"><span class="caption-text">FPGA firwmare update via OoB</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="fpga-firmware-update.html">FPGA Flash Update Commands</a></li>
</ul>
<p class="caption"><span class="caption-text">DMTF support</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="dmtf-support.html">DMTF Implementation</a></li>
</ul>
<p class="caption"><span class="caption-text">Appendix A: PCIe and thermal info</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="appendix_a.html">Appendix A</a></li>
</ul>
<p class="caption"><span class="caption-text">Appendix B: SMBus 2.0 protocol recap</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="smbus2.0-protocol-recap.html">I2C/SMBus Implementation and Protocol Recap</a></li>
</ul>
<p class="caption"><span class="caption-text">References</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="references.html">Additional Resources</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Satellite Controller</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Alveo™ FRU Support</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/alveo-fru.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="alveo-fru-support">
<h1>Alveo™ FRU Support<a class="headerlink" href="#alveo-fru-support" title="Permalink to this headline">¶</a></h1>
<p>The satellite controller firmware supports FRU data via a dedicated I2C slave address 0x50 (0xA0 in 8-bit). Alveo™ FRU implementation is fully compliant with Intelligent Platform Management Interface (IPMI) FRU specification v1.0 r1.3</p>
<p><strong>Note:</strong> Only 2-byte FRU addressing is supported in Alveo™ FRU data. 1-byte (8-bit) FRU read requests are unsupported and will be responded with 0xFF.</p>
<p>The satellite controller firmware accesses on-board EEPROM and emulates the traditional EEPROM’s FRU data within the firmware. This enables server BMCs that are traditionally used to interface with a non-private EEPROM that resides in the same I2C bus, along with the satellite controller.</p>
<p>Accessing the FRU data is supported via SMBus block write block read method, where block write provides a 2-byte FRU offset (address byte 0 or LS byte and address byte 1 MS byte) and the block read retrieves FRU data. The SMBus transaction with the repeated start option will be used to fetch the entire FRU data.</p>
<p>The maximum response per transaction is 255 bytes, as set by the underlying I2C driver. For example, in-order to fetch the FRU data of 300 bytes length, the server BMC is expected to send two repeated START transactions. For the first transaction, the satellite controller firmware sends 255 FRU bytes. For the second transaction, 44 FRU bytes + 212 bytes of 0xFF are sent. Additionally, BMC has the option to request smaller transaction from SC (i.e.) 16 or 32 bytes per transaction.</p>
<p>For the high-level FRU Storage Organization, see the figure below:</p>
<img alt="_images/FRU_organization.png" class="align-center" src="_images/FRU_organization.png" />
<p>Detailed FRU information like sections, length, field definition and description have been captured in
(<a class="reference external" href="https://xilinx.github.io/Alveo-Cards/master/FRU/index.html">Alveo™ FRU Data Specification</a>).</p>
<blockquote>
<div><em>Figure:</em> <strong>FRU Random Read</strong></div></blockquote>
<img alt="_images/FRU_random_read.png" class="align-center" src="_images/FRU_random_read.png" />
<p>Format: START, SA+W, addr-byte0, addr-byte1, RepeatedSTART, SA+R,
BYTE0, BYTE1…… BYTEN, STOP</p>
<p>Where: [addr-byte0][addr-byte1] are FRU offsets (block writes)
[BYTE0][BYTE1]… [BYTEN] are FRU data response (block reads).</p>
<p><strong>Note:</strong> 2-byte FRU offset follows [LS Byte] [MS Byte].</p>
<p>Example of Read FRU Data Starting at Offset 0x0</p>
<ul>
<li><p class="first"><strong>Block Write Operation:</strong> [N] 0x50 0x00 0x00</p>
<blockquote>
<div><p>[I2C Bus Number = N ] [I2C Slave = 0x50] [FRU Offset LS Byte] [FRU Offset MS Byte]</p>
</div></blockquote>
</li>
<li><p class="first"><strong>Block Read Operation:</strong> [N] 0x50</p>
<blockquote>
<div><p>[I2C Bus Number = N ] [I2C Slave = 0x50]</p>
</div></blockquote>
</li>
</ul>
<p>Example of Read FRU Data Starting at Offset 50</p>
<ul>
<li><p class="first"><strong>Block Write Operation:</strong> [N] 0x50 0x32 0x00</p>
<blockquote>
<div><p>[I2C Bus Number = N ] [I2C Slave = 0x50] [FRU Offset LS Byte] [FRU Offset MS Byte]</p>
</div></blockquote>
</li>
<li><p class="first"><strong>Block Read Operation:</strong> [N] 0x50</p>
<blockquote>
<div><p>[I2C Bus Number = N ] [I2C Slave = 0x50]</p>
</div></blockquote>
</li>
</ul>
<div class="section" id="block-write">
<h2>Block Write<a class="headerlink" href="#block-write" title="Permalink to this headline">¶</a></h2>
<p><strong>Table: Block Write, Server BMC Request</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="23%" />
<col width="33%" />
<col width="44%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head" colspan="3"><strong>Server BMC Request</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Data bytes</td>
<td>[Byte 0] [Byte 1]</td>
<td><p class="first">[Byte 0] – FRU Offset LSB</p>
<p class="last">[Byte 1] – FRU Offset MSB</p>
</td>
</tr>
</tbody>
</table>
<p><strong>Table: Block Write, Xilinx® Alveo™ Card Response</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="30%" />
<col width="70%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head" colspan="2"><strong>Xilinx Alveo™ Card Response</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Data bytes</td>
<td>ACK sent by I2C Driver</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="block-read">
<h2>Block Read<a class="headerlink" href="#block-read" title="Permalink to this headline">¶</a></h2>
<p><strong>Table: Block Read, Server BMC Request</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="21%" />
<col width="20%" />
<col width="59%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head" colspan="3"><strong>Server BMC Request</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Data bytes</td>
<td>N/A</td>
<td><p class="first">[Byte 0] – FRU offset LSB</p>
<p class="last">[Byte 1] – FRU offset MSB</p>
</td>
</tr>
</tbody>
</table>
<p><strong>Table: Block Read, Xilinx Alveo™ Card Response</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="17%" />
<col width="51%" />
<col width="32%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head" colspan="3"><strong>Xilinx Alveo™ Card Response</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Data bytes</td>
<td>[Byte 0] [Byte 1] …. [Byte 254]]</td>
<td>255-byte FRU data</td>
</tr>
</tbody>
</table>
<p><strong>Xilinx Support</strong></p>
<p>For support resources such as answers, documentation, downloads, and forums, see the <a class="reference external" href="https://forums.xilinx.com/t5/Alveo-Accelerator-Cards/bd-p/alveo">Alveo Accelerator Cards Xilinx Community Forum</a>.</p>
<p><strong>License</strong></p>
<p>Licensed under the Apache License, Version 2.0 (the “License”); you may not use this file except in compliance with the License.</p>
<p>You may obtain a copy of the License at
<a class="reference external" href="http://www.apache.org/licenses/LICENSE-2.0">http://www.apache.org/licenses/LICENSE-2.0</a></p>
<p>All images and documentation, including all debug and support documentation, are licensed under the Creative Commons (CC) Attribution 4.0 International License (the “CC-BY-4.0 License”); you may not use this file except in compliance with the CC-BY-4.0 License.</p>
<p>You may obtain a copy of the CC-BY-4.0 License at
<a class="reference external" href="https://creativecommons.org/licenses/by/4.0/">https://creativecommons.org/licenses/by/4.0/</a></p>
<p>Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an “AS IS” BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.</p>
<p align="center"><sup>XD038 | &copy; Copyright 2021 Xilinx, Inc.</sup></p></div>
</div>


           </div>
          </div>
          
				  
				  <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="oob-intro.html" class="btn btn-neutral float-left" title="Introduction" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="std-smbus-commands.html" class="btn btn-neutral float-right" title="I2C/SMBus Commands" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021-2022, Xilinx, Inc..
      <span class="lastupdated">Last updated on March 30, 2022.
      </span></p>
  </div>



										<div class="aem-Grid aem-Grid--16">
											<div class="aem-GridColumn aem-GridColumn--xxxlarge--none aem-GridColumn--xsmall--16 aem-GridColumn--offset--xsmall--0 aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--xsmall--none aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
												<div class="container-fluid sub-footer">

													                    <div class="row">
                        <div class="col-xs-24">
                          <p><a target="_blank" href="https://www.amd.com/en/corporate/copyright">Terms and Conditions</a> | <a target="_blank" href="https://www.amd.com/en/corporate/privacy">Privacy</a> | <a target="_blank" href="https://www.amd.com/en/corporate/cookies">Cookie Policy</a> | <a target="_blank" href="https://www.amd.com/en/corporate/trademarks">Trademarks</a> | <a target="_blank" href="https://www.amd.com/system/files/documents/statement-human-trafficking-forced-labor.pdf">Statement on Forced Labor</a> | <a target="_blank" href="https://www.amd.com/en/corporate/competition">Fair and Open Competition</a> | <a target="_blank" href="https://www.amd.com/system/files/documents/amd-uk-tax-strategy.pdf">UK Tax Strategy</a> | <a target="_blank" href="https://docs.xilinx.com/v/u/9x6YvZKuWyhJId7y7RQQKA">Inclusive Terminology</a> | <a href="#cookiessettings" class="ot-sdk-show-settings">Cookies Settings</a></p>
                        </div>
                    </div>
												</div>
											</div>
										</div>
										
</br>


  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>